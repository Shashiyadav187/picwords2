<div class="user-form">
    <h1>{{ title | translate: "user-form" : currentLanguage }}</h1>
    <i *ngIf="isLoading" class="fa fa-spinner fa-spin fa-3x"></i>
    <div *ngIf="!isLoading" class="row">
        <div class="col-md-6 well">
            <form [formGroup]="form" (ngSubmit)="signUp()">
                <fieldset>
                    <div class="form-group">
                        <label>{{ "user-name" | translate: "user-form" : currentLanguage }}</label>
                        <input
                                type="text"
                                [(ngModel)]="user.name"
                                #name="ngForm"
                                [formControl]="form.controls['name']"
                                class="form-control">
                    </div>
                    <div *ngIf="name.touched && !name.valid" class="alert alert-danger">
                        {{ "required-name" | translate: "user-form" : currentLanguage }}
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input
                                type="text"
                                [(ngModel)]="user.email"
                                name="email"
                                #email="ngForm"
                                [formControl]="form.controls['email']"
                                class="form-control">
                    </div>
                    <div *ngIf="email.touched && email.errors">
                        <div
                                *ngIf="email.errors.required"
                                class="alert alert-danger">{{ "required-email" | translate: "signin-form" :
                            currentLanguage }}
                        </div>
                        <div
                                *ngIf="!email.errors.required && email.errors.invalidEmail"
                                class="alert alert-danger">{{ "invalid-email" | translate: "signin-form" :
                            currentLanguage }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ "user-password" | translate: "user-form" : currentLanguage }}</label>
                        <input
                                type="text"
                                [(ngModel)]="user.password"
                                name="email"
                                #password="ngForm"
                                [formControl]="form.controls['password']"
                                class="form-control">
                    </div>
                    <div *ngIf="password.touched && !password.valid" class="alert alert-danger">
                        {{ "required-password" | translate: "user-form" : currentLanguage }}
                    </div>
                    <div class="form-group">
                        <label>{{ "user-avatar" | translate: "user-form" : currentLanguage }}</label>
                        <input
                                type="text"
                                [(ngModel)]="user.avatar"
                                formControlName="avatar"
                                class="form-control">
                        <div class="media">
                            <div class="media-left">
                                <a href="#">
                                    <img class="avatar" src="{{user.avatar}}">
                                </a>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">{{ "user-avatar" | translate: "user-form" : currentLanguage
                                    }}</h4>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ "user-about" | translate: "user-form" : currentLanguage }}</label>
                        <input
                                type="text"
                                [(ngModel)]="user.about"
                                formControlName="about"
                                class="form-control">
                    </div>
                    <div class="form-group">
                        <label>{{ "user-city" | translate: "user-form" : currentLanguage }}</label>
                        <input
                                type="text"
                                [(ngModel)]="user.city"
                                formControlName="city"
                                class="form-control">
                    </div>
                </fieldset>
                <button
                        type="submit"
                        class="btn btn-primary"
                        [disabled]="!form.valid">
                    {{ "button-save" | translate: "user-form" : currentLanguage }}
                </button>
            </form>
        </div>
    </div>
</div>
